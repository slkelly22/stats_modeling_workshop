---
title: "Stats Modeling in R: Week 3"
author: "S.Kelly"
format:
  revealjs:
    html-math-method:
      method: mathjax
      url: "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"
    code-overflow: wrap
    footer: "S.Kelly | Stats Modeling in R | Fall 2025"
editor: visual
execute: 
  echo: true
---

## New Dataset

We're going to use an excerpt from the Panel Study of Income Dynamics (PSID). The dataset `Mroz` is available from the `car` package.

```{r}
# install.packages("car")
library(car)
library(tidyverse)
head(Mroz, 4)
```

## Outcome variable

Our outcome variable is whether a married woman is participating in the workforce: `lfp` for labor force participation. It is currently set as a factor. 

```{r}
fct_count(Mroz$lfp)
levels(Mroz$lfp)
```

## What is logistic regression?

Logistic regression is an extension of linear regression. The outcome variable you're modeling is not continuous. It's binary. 

## Why can't we use linear regression?

The relationship is not linear. 
The residuals will not be normally distributed. 
You will not have equal variance. 

```{r}
ggplot(Mroz, aes(x = age, y = as.numeric(lfp))) + geom_point() 
```



## Are probability and odds the same?

<br>

Probability is the $\frac{success}{total}$ so $\frac{1}{3}$ so 33% Probability

<br>

Odds is the $\frac{success}{failure}$ so $\frac{1}{2}$ so .5 odds

![](images/Ornaments.png){fig-align="center"}

## What are we modeling in logistic regression?

The function $f(x) = \frac{1}{1 + e^{-x}}$ is the logistic sigmoid.

$$
ln\frac{p}{1-p}
$$

$$
P(y=1|x) = \frac{1}{1 + e^{-\theta^T x}}
$$

## What is the Logit?

> Logit(Y) = Ln(odds of success) = log odds

## glm syntax

## Review also

https://carpentries-incubator.github.io/logistic-regression-public-health/01-introBinary/index.html
